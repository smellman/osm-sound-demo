<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenStreetMap Sound Demo</title>
  </head>
  <body>
    <div class="container-fluid px-0" data-bs-theme="dark">
      <div id="map-container" class="position-relative">
        <div id="map"></div>
        <button id="about" class="btn btn-primary position-absolute top-0 start-0 m-3" data-bs-toggle="modal" data-bs-target="#aboutModal">About</button>
        <div id="aboutModal" class="modal fade" tabindex="-1" aria-labelledby="aboutModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="aboutModalLabel">About OpenStreetMap Sound Demo</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <p>This demo showcases the integration of <a href="https://www.openstreetmap.org/" target="_blank">OpenStreetMap</a> with sound playback functionality.</p>
                <p>All music by <a href="https://www.otherman-records.com/" target="_blank">Otherman Records</a></p>
                <p>Original sound example developed by <a href="https://docs.mapbox.com/mapbox-gl-js/example/dancing-buildings/" target="_blank">Mapbox</a></p>
                <p>Source code available at <a href="https://github.com/smellman/osm-sound-demo" target="_blank">GitHub</a></p>
                <p>Developed by <a href="https://github.com/smellman" target="_blank">Taro Matsuzawa (smellman)</a></p>
                <p style="text-align: center;"><img src="./qr.png" alt="QR Code" /></p>
                <p class="text-warning">VJ mode is experimental and supports Desktop browsers now.</p>
                <ul>
                  <li>macOS: Supports <a href="https://rogueamoeba.com/loopback/" target="_blank">Loopback.app</a></li>
                  <li>Linux: Supports Helvum + PipeWire</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div id="flyTo" class="dropdown position-absolute top-0 end-0 m-3" role="group">
          <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            Fly To
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" id="tokyo" data-longitude="139.767165" data-latitude="35.680655">Tokyo / Japan</a></li>
            <li><a class="dropdown-item" id="osaka" data-longitude="135.4975879" data-latitude="34.7034131">Osaka / Japan</a></li>
            <li><a class="dropdown-item" id="sapporo" data-longitude="141.35079" data-latitude="43.06868">Sapporo / Japan</a></li>
            <li><a class="dropdown-item" id="hiroshima" data-longitude="132.455486" data-latitude="34.394377">Hiroshima / Japan</a></li>
            <li><a class="dropdown-item" id="fukuoka" data-longitude="130.4017509" data-latitude="33.5898988">Fukuoka / Japan</a></li>
            <li><a class="dropdown-item" id="Firenze" data-longitude="11.248662" data-latitude="43.777424">Firenze / Italy</a></li>
            <li><a class="dropdown-item" id="Prishtina" data-longitude="21.163569" data-latitude="42.663895">Prishtina / Kosovo</a></li>
            <li><a class="dropdown-item" id="Nairobi" data-longitude="36.816647" data-latitude="-1.279803">Nairobi / Kenya</a></li>
            <li><a class="dropdown-item" id="Manila" data-longitude="121.067019" data-latitude="14.656875">Manila / Philippines</a></li>
          </ul>
        </div>
        <div id="location" class="position-absolute top-0 m-3" style="right: 6rem;">
          <button id="locate-button" class="btn btn-primary">
            <i class="bi bi-geo-alt-fill"></i> Locate Me
          </button>
        </div>
      </div>
      
      <nav class="navbar fixed-bottom navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <div class="row w-100 g-2">
            <div class="col-12 col-md-2 d-flex align-items-center">
              <button id="prev-button" class="btn btn-outline-secondary me-1">
                <i class="bi bi-skip-start-fill"></i>
              </button>
              <button id="play-button" class="btn btn-outline-secondary me-1">
                <i class="bi bi-play-fill"></i>
              </button>
              <button id="next-button" class="btn btn-outline-secondary">
                <i class="bi bi-skip-end-fill"></i>
              </button>
              <button id="volume-button" class="btn btn-outline-secondary ms-1">
                <i class="bi bi-volume-up-fill"></i>
              </button>
            </div>
            <div class="col-12 col-md-3 d-flex align-items-center">
              <div id="sound-status" class="bg-dark text-light w-100 marquee-container">
                <p class="marquee-text mb-0"><i class="bi bi-music-note-beamed"></i> <span id="current-track"></span></p>
              </div>
            </div>
            <div class="col-12 col-md-5 d-flex align-items-center">
              <div id="release-list" class="w-100">
                <select id="release-select" class="form-select w-100">
                  <option value="">Select a release</option>
                </select>
              </div>
            </div>
            <div class="col-12 col-md-2 d-flex align-items-center justify-content-md-end justify-content-start">
              <a id="current-link" target="_blank" style="display: none;" class="btn btn-outline-secondary w-100 w-md-auto">Go To Release</a>
              <a id="turn-on-vj-mode" class="btn btn-outline-secondary w-100 w-md-auto">Turn On VJ Mode</a>
            </div>
          </div>
        </div>
      </nav>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
